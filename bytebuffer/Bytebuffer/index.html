<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bytebuffer (bytebuffer.Bytebuffer)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">bytebuffer</a> &#x00BB; Bytebuffer</nav><h1>Module <code>Bytebuffer</code></h1><p>Extensible buffers using bigstrings.</p></header><dl><dt class="spec type" id="type-bigstring"><a href="#type-bigstring" class="anchor"></a><code><span class="keyword">type</span> bigstring</code><code> = <span><span>(char, Stdlib.Bigarray.int8_unsigned_elt, Stdlib.Bigarray.c_layout)</span> Stdlib.Bigarray.Array1.t</span></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><div class="spec module" id="module-View"><a href="#module-View" class="anchor"></a><code><span class="keyword">module</span> <a href="View/index.html">View</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create size</code> returns a new empty bytebuffer. This function will allocate a new bigstring of size <code>size</code>. The bytebuffer will be resized automatically if attempting to add more than <code>size</code> characters to the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-of_bigstring"><a href="#val-of_bigstring" class="anchor"></a><code><span class="keyword">val</span> of_bigstring : <a href="index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_bigstring</code> creates a new bytebuffer and uses the user provided bigstring as the backing store.</p></dd></dl><dl><dt class="spec value" id="val-contents"><a href="#val-contents" class="anchor"></a><code><span class="keyword">val</span> contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-bigstring">bigstring</a></code></dt><dd><p><code>contents</code> returns a copy of the current contents of the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-contents_string"><a href="#val-contents_string" class="anchor"></a><code><span class="keyword">val</span> contents_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>contents_string</code> is the same as <code>contents</code> except it returns the copy as a <code>string</code>.</p></dd></dl><dl><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val</span> length : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>length</code> returns the number of characters in the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-capacity"><a href="#val-capacity" class="anchor"></a><code><span class="keyword">val</span> capacity : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>capacity</code> is the size of the underlying bigstring.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>clear</code> empties the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-reset"><a href="#val-reset" class="anchor"></a><code><span class="keyword">val</span> reset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>reset</code> clears the bytebuffer and resets the underlying bigstring to the initial bigstring used during <code>create</code>.</p></dd></dl><dl><dt class="spec value" id="val-add_char"><a href="#val-add_char" class="anchor"></a><code><span class="keyword">val</span> add_char : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_char</code> appends a charater at the end of the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-add_string"><a href="#val-add_string" class="anchor"></a><code><span class="keyword">val</span> add_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_string</code> appends a string at the end of the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-add_bigstring"><a href="#val-add_bigstring" class="anchor"></a><code><span class="keyword">val</span> add_bigstring : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;pos:int</span> <span>&#45;&gt;</span> <span>?&#8288;len:int</span> <span>&#45;&gt;</span> <a href="index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_bigstring</code> appends a bigstring at the end of the bytebuffer.</p></dd></dl><dl><dt class="spec value" id="val-fill"><a href="#val-fill" class="anchor"></a><code><span class="keyword">val</span> fill : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="View/index.html#type-t">View.t</a></code></dt><dd><p><code>fill</code> returns a view into the buffer's underlying bigstring that can be used to blit bytes directly into the buffer. This can be useful to directly read content into the buffer.</p></dd></dl><dl><dt class="spec value" id="val-consume"><a href="#val-consume" class="anchor"></a><code><span class="keyword">val</span> consume : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="View/index.html#type-t">View.t</a></code></dt><dd><p><code>consume</code> returns a view into the buffer's underlying bigstring that can be used to blit bytes from the buffer. This can be useful to consume bytes from the buffer and blit them directly for I/O operations.</p></dd></dl><dl><dt class="spec value" id="val-addf"><a href="#val-addf" class="anchor"></a><code><span class="keyword">val</span> addf : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, Stdlib.Format.formatter, unit, unit)</span> Stdlib.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-index"><a href="#val-index" class="anchor"></a><code><span class="keyword">val</span> index : <span>?&#8288;pos:int</span> <span>&#45;&gt;</span> <span>?&#8288;len:int</span> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>int option</span></code></dt><dd><p><code>index</code> returns the index of the character if it exists within the buffer.</p></dd></dl><dl><dt class="spec value" id="val-unsafe_index"><a href="#val-unsafe_index" class="anchor"></a><code><span class="keyword">val</span> unsafe_index : <span>?&#8288;pos:int</span> <span>&#45;&gt;</span> <span>?&#8288;len:int</span> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>unsafe_index</code> is similar to <code>index</code> but instead of options it returns a negative integer if the character isn't present in the buffer.</p></dd></dl><dl><dt class="spec value" id="val-drop"><a href="#val-drop" class="anchor"></a><code><span class="keyword">val</span> drop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>drop n</code> deletes the first <code>n</code> bytes from the buffer.</p></dd></dl></div></body></html>